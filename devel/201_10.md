# 201_10 编辑器中选择的处理
## 如何测试
1. 打开菜单：Help → Plugins → Json
2. 使用快捷键 Cmd-A 进行全选
3. 检查选区效果是否正常
## 2025/07/24 单独处理带有 hide-preamble 前言的文档全选
### 问题描述
在 [此 issue](https://gitee.com/XmacsLabs/mogan/issues/ICO8PR) 中，用户反馈带有 `hide-preamble` 前言的文档，使用 Cmd-A 全选时选区效果失效。根本原因是 TeXmacs/Mogan 对含有 `hide-preamble` 前言的文档结构处理不完善，导致全选操作无法正确覆盖正文内容。例如，帮助文档中的 Json 文档也会出现同样问题。

### 如何解决
针对带有 `hide-preamble` 前言的文档，单独处理全选逻辑：

- 检查文档树顶层是否为 `hide-preamble` 节点。
- 若存在，自动跳过前言节点，直接选中其 `document` 子节点的全部内容。
- 这样可确保 Cmd-A 全选时，选区效果与普通文档一致，覆盖实际正文内容。

此修复仅影响带有 `hide-preamble` 前言的文档结构，不影响普通文档的全选行为。
