# 205_13 修复PDF相关渲染器线条粗细设置问题

## 如何测试
1. 启用MuPDF渲染时，打开`TeXmacs/tests/tmu/205_13.tmu`文档，频繁上下滚动，观察线条粗细是否一致
2. 点击文件->预览，观察导出的PDF中线条粗细是否一致

## 2025/09/19
### What
本次修改同时分别应用于 MuPDF Render 和 PDFHummus Render。在`select_line_width(SI w)`函数中：
1. 不考虑当前线宽，始终写入`w`指令，设置PDF中的线宽。同时移除成员变量`current_width`。
2. 线宽单位换算中应将整型转换为浮点再进行运算，避免精读丢失。

### Why
修复PDF相关渲染器在实现线宽调整时的bug。

其触发原因是：当多个独立的 Graphic Box 存在于文档中时，Renderer 实现类由于保存了当前线宽（current_width），所以在渲染时只在第一个图形框绘制时设置了线宽，由于图形框绘制结束会清理绘图状态，导致后续图形框的线宽处于未被设置的状态。截取问题文档的PDF代码如下所示：

% 绘制第一个框中的直线
q
708 5903 1006 61 re
W
n
4.164062 w
0 0 0 rg
/GS1 gs
0 0 0 RG
/GS1 gs
2 J
1 j
q
2 J
1 j
738 5933 m
738 5933 l
1683 5933 l
S
Q
Q
% 上述所有设置的绘图状态均已清空

% 绘制第二个框中的直线
q
708 5748 1006 60 re
W
n
% 这里本应有设置线宽的命令
0 0 0 rg
/GS1 gs
0 0 0 RG
/GS1 gs
2 J
1 j
q
2 J
1 j
738 5777 m
738 5777 l
1683 5777 l
S
Q
Q
